dremio:
  auth:
    enabled: true
    username: admin
    password: "Pa22word"
    firstName: Josh
    lastName: Yorko
    email: "email@example.com"

masterCoordinator:
  persistence:
    storageClass: "local-path"
    size: 8Gi
  extraStartParams: >-
    -Ddremio.tls.keyStore=/opt/dremio/tls/dremio.jks
    -Ddremio.tls.keyStorePassword=${DREMIO_TLS_KEYSTORE_PASSWORD}
  extraEnvVars:
    - name: DREMIO_TLS_KEYSTORE_PASSWORD
      valueFrom:
        secretKeyRef:
          name: dremio-keystore-password
          key: password
coordinator:
  persistence:
    storageClass: "local-path"
    size: 8Gi
  extraStartParams: >-
    -Ddremio.tls.keyStore=/opt/dremio/tls/dremio.jks
    -Ddremio.tls.keyStorePassword=${DREMIO_TLS_KEYSTORE_PASSWORD}
  extraEnvVars:
    - name: DREMIO_TLS_KEYSTORE_PASSWORD
      valueFrom:
        secretKeyRef:
          name: dremio-keystore-password
          key: password
executor:
  common:
    persistence:
      storageClass: "local-path"
      size: 8Gi
    extraStartParams: >-
      -XX:+UseG1GC
      -XX:+UseGCOverheadLimit
      -XX:+ExplicitGCInvokesConcurrent
      -XX:+HeapDumpOnOutOfMemoryError
      -XX:HeapDumpPath=/opt/dremio/data/heap-dump.hprof
      -Ddremio.tls.keyStore=/opt/dremio/tls/dremio.jks
      -Ddremio.tls.keyStorePassword=${DREMIO_TLS_KEYSTORE_PASSWORD}
    extraEnvVars:
      - name: DREMIO_TLS_KEYSTORE_PASSWORD
        valueFrom:
          secretKeyRef:
            name: dremio-keystore-password
            key: password
    autoscaling:
      hpa:
          enabled: true
          minReplicas: "3"
          maxReplicas: "5"
          targetCPU: "85"
          targetMemory: "85"
          
  service:
    type: LoadBalancer

  extraVolumes:
    - name: dremio-tls
      secret:
        secretName: dremio-tls-secret

  extraVolumeMounts:
    - name: dremio-tls
      mountPath: /opt/dremio/tls
      readOnly: true

minio:
  enabled: true
  auth:
    rootUser: "minio-admin"
    rootPassword: "Pa22word"
  defaultBuckets: "dremio,warehouse,upload"
  provisioning:
    enabled: true
    extraCommands: 
      - "mc anonymous set download provisioning/dremio"
      - "mc anonymous set download provisioning/warehouse"
      - "mc anonymous set download provisioning/upload"
  tls:
    enabled: false
    autoGenerated: false
  service:
    type: LoadBalancer
    LoadBalancerIP: ""
    ports:
      api: 9000
 
  persistence:
    storageClass: "local-path"
    size: 100Gi

zookeeper:
  enabled: true
  replicaCount: 1
  persistence:
    storageClass: "local-path"
    size: 15Gi
